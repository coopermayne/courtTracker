<div class="cases">
  
<button class="btn"><%= link_to 'New Case', new_case_path %></button>
<h1>Cases</h1>

<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>Uid</th>
      <th>Case</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @cases.each do |kase| %>
      <tr>
        <td><%= kase.uid %></td>
        <td><%= kase.title %></td>
        <td><%= link_to 'Show', kase%></td>
        <td><%= link_to 'Edit', edit_case_path(kase) %></td>
        <td><%= link_to 'Destroy',kase, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>


</div>


<div>
<h1>Hearings</h1>

<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>Date</th>
      <th>Case</th>
      <th>Location</th>
    </tr>
  </thead>

  <tbody>
    <% @hearings.sort_by(&:time).each do |hearing| %>
      <tr>
        <td><%= hearing.time.strftime("%b %d, %Y at %I:%M%p") %></td>
        <td><%= hearing.case.title %></td>
        <td><%= hearing.title %></td>
      </tr>
    <% end %>
  </tbody>
</table>

</div>
<div>
<h1>Documents</h1>

<% @cases.each do |kase| %>

  <h5><%= kase.title %></h4>

  <% unless kase.documents.empty? %>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Date</th>
        <th>Title</th>
        <th>Filed By</th>
      </tr>
    </thead>

    <tbody>
      <% kase.documents.sort_by(&:date).reverse.each do |doc| %>
        <tr>
          <td style="width:150px"><%= doc.date.strftime("%b %d, %Y") if doc.date %></td>
          <td><%= doc.title %></td>
          <td><%= doc.filed_by %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <% else %>
    <p>No Documents</p>
  <% end %>

  <hr>
<% end %>

</div>

